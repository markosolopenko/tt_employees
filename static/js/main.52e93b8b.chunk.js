(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,s){e.exports={"employees-page":"Employees_employees-page__O-6yL","employees-page__list":"Employees_employees-page__list__1Q7YS","employees-page__list__title":"Employees_employees-page__list__title__3iUVD","employees-page__birthday":"Employees_employees-page__birthday__12gjT","employees-page__birthday__title":"Employees_employees-page__birthday__title__13LEo"}},15:function(e,t,s){e.exports={"birthdays-list__message":"BirthdaysList_birthdays-list__message__2gn_b","birthdays-list__month":"BirthdaysList_birthdays-list__month__2jESj","birthdays-list__item":"BirthdaysList_birthdays-list__item__RxoLd","birthdays-list__item__info":"BirthdaysList_birthdays-list__item__info__2fqh4"}},70:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(18),r=s.n(i),l=s(9),n=s(39),c=s(3),_=s(21),o="FETCH_USERS_SUCCESS",m="FETCH_USERS_REJECTED",p="FETCH_USERS_PENDING",y="SELECT_NEW_EMPLOYEE",d="DELETE_EMPLOYEE_ID",u=s(8),b=s.n(u),j=s(1),h=function(e){var t=e.sortedEmployees,s=Object(l.b)(),a=Object(l.c)((function(e){return e})).employees.selectedIds,i=function(e){s(function(e){return{type:y,payload:{id:e}}}(e)),localStorage.setItem("selectedUsers",JSON.stringify([].concat(Object(_.a)(a),[e])))},r=function(e){s(function(e){return{type:d,payload:{id:e}}}(e));var t=a.filter((function(t){return t!==e}));localStorage.setItem("selectedUsers",JSON.stringify(t))};return Object(j.jsx)("div",{className:b.a["employees-list"],children:t.map((function(e,t){return Object(j.jsxs)("div",{className:b.a["employees-list__box"],children:[Object(j.jsx)("div",{className:b.a["employees-list__letter"],children:e.letter}),Object(j.jsx)("div",{className:b.a["employees-list__box__card"],children:e.array.map((function(t){return e.isEmpty?Object(j.jsx)("div",{className:b.a["employees-list__item"],children:t},e.letter):Object(j.jsxs)("div",{className:b.a["employees-list__item"],children:[Object(j.jsxs)("div",{className:"".concat(b.a["employees-list__item__name"]," ").concat(a.includes(t.id)&&b.a["employees-list__item__name--active"]),children:[t.lastName,"\xa0",t.firstName]}),Object(j.jsxs)("div",{className:b.a["employees-list__item__input"],onClick:function(){return r(t.id)},children:[Object(j.jsx)("label",{className:b.a["employees-list__item__input__notactive"],children:"not active"}),Object(j.jsx)("input",{type:"radio",value:"notactive",checked:!a.includes(t.id),readOnly:!0})]}),Object(j.jsxs)("div",{className:b.a["employees-list__item__input"],onClick:function(){return i(t.id)},children:[Object(j.jsx)("label",{className:b.a["employees-list__item__input__active"],children:"active"}),Object(j.jsx)("input",{type:"radio",value:"active",checked:a.includes(t.id),readOnly:!0})]})]},t.id)}))})]},t)}))})},O=s(24),f=s.n(O),v=s(35),g=s(36),E=s.n(g).a.create({baseURL:"https://yalantis-react-school-api.yalantis.com/api"}),x=s(14),N=s.n(x),L=function(){return Object(l.c)((function(e){return e})).employees.pending&&Object(j.jsx)("div",{children:"Loading..."})},S="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),I=s(40),J=["March","April","May","June","July","August","September","October","November","December","January","February"],M=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U=s(15),C=s.n(U),D=function(e){var t=e.employeesList,s=Object(a.useState)(JSON.parse(localStorage.getItem("selectedUsers")||"[]")),i=Object(I.a)(s,2),r=i[0],n=i[1],c=Object(l.c)((function(e){return e})).employees.selectedIds;Object(a.useEffect)((function(){n(JSON.parse(localStorage.getItem("selectedUsers")||"[]"))}),[c]);var _=Object(a.useMemo)((function(){return t.filter((function(e){return r.includes(e.id)}))}),[r]),o=Object(a.useMemo)((function(){return function(e){for(var t={month:"",array:[],days:[],years:[]},s=[],a=0;a<J.length;a++){t.month=J[a];for(var i=0;i<e.length;i++){var r=new Date(e[i].dob),l=T[r.getDay()],n=M[r.getMonth()],c=r.getFullYear();n===J[a]&&(t.array.push(e[i]),t.days.push(l),t.years.push(c))}var _=t.array.sort((function(e,t){return e.lastName>t.lastName?1:-1}));t.array=_,s.push(t),t={month:"",array:[],days:[],years:[]}}return s}(_)}),[_]),m=!0;return Object(j.jsxs)("div",{className:C.a["birthdays-list"],children:[o.map((function(e,t){return 0!==e.array.length&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:C.a["birthdays-list__month"],children:e.month}),e.array.map((function(t,s){return m=!1,Object(j.jsx)("div",{className:C.a["birthdays-list__item"],children:Object(j.jsxs)("div",{className:C.a["birthdays-list__item__info"],children:["\u25cf\xa0",t.lastName,"\xa0",t.firstName," - ",e.days[s]," ",e.month,",\xa0",e.years[s]," year"]})},t.id)}))]},t)})),m&&Object(j.jsx)("div",{className:C.a["birthdays-list__message"],children:"Employees List is empty"})]})},k=function(){var e=Object(l.b)();Object(a.useEffect)((function(){e(function(){var e=Object(v.a)(f.a.mark((function e(t){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),e.prev=1,e.next=4,E.get("/task0/users");case 4:s=e.sent,t((i=s.data,{type:o,payload:{data:i}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0.message,{type:m,payload:{error:a}}));case 11:case"end":return e.stop()}var a,i}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(l.c)((function(e){return e})).employees.employeesList,s=Object(a.useMemo)((function(){return function(e){for(var t=[],s={letter:"",array:[],isEmpty:!1},a=!1,i=e.sort((function(e,t){return e.lastName>t.lastName?1:-1})),r=0;r<S.length;r++){s.letter=S[r];for(var l=0;l<i.length;l++)S[r]===i[l].lastName[0]&&(a=!0,s.array.push(i[l]));a||(s.letter=S[r],s.array=["_ _ _ _"],s.isEmpty=!0),a=!1,t.push(s),s={letter:"",array:[],isEmpty:!1}}return t}(t)}),[t]);return Object(j.jsx)("div",{className:N.a["employees-page"],children:0!==t.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:N.a["employees-page__list"],children:[Object(j.jsx)("div",{className:N.a["employees-page__list__title"],children:"Employees"}),Object(j.jsx)(h,{sortedEmployees:s})]}),Object(j.jsxs)("div",{className:N.a["employees-page__birthday"],children:[Object(j.jsx)("div",{className:N.a["employees-page__birthday__title"],children:"Employees birthday"}),Object(j.jsx)(D,{employeesList:t})]})]}):Object(j.jsx)(L,{})})};var w=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(c.d,{children:[Object(j.jsx)(c.b,{path:"/tt_employees",component:k}),Object(j.jsx)(c.a,{to:"/tt_employees"})]})})},F=s(13),R=s(37),B=s(38),A=s(11),P={employeesList:[],error:"",pending:!1,selectedIds:JSON.parse(localStorage.getItem("selectedUsers")||"[]")},Y=Object(F.combineReducers)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(A.a)(Object(A.a)({},e),{},{employeesList:t.payload.data,error:null,pending:!1});case m:return Object(A.a)(Object(A.a)({},e),{},{error:t.payload.error,employeesList:[],pending:!1});case p:return Object(A.a)(Object(A.a)({},e),{},{error:null,employeesList:[],pending:!0});case y:return Object(A.a)(Object(A.a)({},e),{},{selectedIds:[].concat(Object(_.a)(e.selectedIds),[t.payload.id])});case d:return Object(A.a)(Object(A.a)({},e),{},{selectedIds:e.selectedIds.filter((function(e){return e!==t.payload.id}))});default:return e}}}),H=Object(F.createStore)(Y,Object(R.composeWithDevTools)(Object(F.applyMiddleware)(B.a)));s(70);r.a.render(Object(j.jsx)(n.a,{children:Object(j.jsx)(l.a,{store:H,children:Object(j.jsx)(w,{})})}),document.getElementById("root"))},8:function(e,t,s){e.exports={"employees-list":"ListOfEmployees_employees-list__j0Elr","employees-list__box__card":"ListOfEmployees_employees-list__box__card__3padu","employees-list__letter":"ListOfEmployees_employees-list__letter__1GbA1","employees-list__item":"ListOfEmployees_employees-list__item__2YB1l","employees-list__item__name":"ListOfEmployees_employees-list__item__name__DCfTP","employees-list__item__name--active":"ListOfEmployees_employees-list__item__name--active__1R-tb","employees-list__item__input":"ListOfEmployees_employees-list__item__input__3yXBn","employees-list__item__input__notactive":"ListOfEmployees_employees-list__item__input__notactive__11N7s","employees-list__item__input__active":"ListOfEmployees_employees-list__item__input__active__3SPTc"}}},[[71,1,2]]]);
//# sourceMappingURL=main.52e93b8b.chunk.js.map